# ğŸ¯ Novo Seletor Visual de KPIs

## O que mudou?

SubstituÃ­mos o dropdown simples por uma **interface visual interativa** que facilita a seleÃ§Ã£o de KPIs para suas metas.

## âœ¨ Recursos do Novo Seletor

### 1. **Busca Inteligente** ğŸ”
- Digite qualquer termo para filtrar os KPIs
- Busca por nome ou descriÃ§Ã£o
- Exemplo: "faturamento", "leads", "ROAS"

### 2. **Filtro por Categoria** ğŸ·ï¸
Clique nas badges para filtrar por categoria:
- **Todos** - Mostra todos os KPIs disponÃ­veis
- **CRM** - MÃ©tricas do CRM (6 tipos)
- **Meta Ads** - MÃ©tricas de anÃºncios (7 tipos)
- **Receita** - MÃ©tricas financeiras (2 tipos)
- **Custom** - Metas personalizadas (1 tipo)

### 3. **Cards Visuais** ğŸ¨
Cada KPI Ã© exibido em um card com:
- âœ… Ãcone representativo
- âœ… Nome e descriÃ§Ã£o clara
- âœ… Badge de categoria (CRM, Meta Ads, etc.)
- âœ… Badge de unidade (R$, %, #)
- âœ… Destaque visual quando selecionado

### 4. **Feedback Visual** ğŸ‘ï¸
- Cards se destacam ao passar o mouse
- KPI selecionado tem borda azul e Ã­cone de check
- Card de confirmaÃ§Ã£o mostra o KPI escolhido

## ğŸ“± Como Usar

### Criar uma Nova Meta

1. Acesse **Metas** no menu
2. Clique em **"Nova Meta"**
3. Preencha tÃ­tulo e descriÃ§Ã£o
4. **Selecione o KPI**:
   - Use a busca para encontrar rapidamente
   - Ou filtre por categoria
   - Clique no card do KPI desejado
5. O card ficarÃ¡ destacado em azul
6. Continue preenchendo os outros campos
7. Clique em **"Criar Meta"**

### Exemplo: Criar Meta de Faturamento

```
1. TÃ­tulo: "Faturamento Novembro"
2. DescriÃ§Ã£o: "Meta de vendas do mÃªs"
3. KPI: Digite "faturamento" na busca â†’ Clique em "Faturamento (CRM)"
4. Valor Alvo: R$ 500.000,00
5. PerÃ­odo: 01/11/2025 - 30/11/2025
```

### Exemplo: Criar Meta de CPL

```
1. TÃ­tulo: "CPL Black Friday"
2. KPI: Filtre por "Meta Ads" â†’ Clique em "CPL (Custo por Lead)"
3. Valor Alvo: R$ 50,00
4. Filtros: Selecione a campanha "Black Friday"
5. PerÃ­odo: 20/11/2025 - 30/11/2025
```

## ğŸ¨ Interface Visual

### Layout do Seletor

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Buscar KPI: [_______________]  ğŸ”  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Todos] [CRM] [Meta Ads] [Receita] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ’°   â”‚  â”‚ ğŸ‘¥   â”‚  â”‚ âœ…   â”‚      â”‚
â”‚  â”‚ Fat. â”‚  â”‚Leads â”‚  â”‚Conv. â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ“ˆ   â”‚  â”‚ ğŸ“Š   â”‚  â”‚ ğŸ’¼   â”‚      â”‚
â”‚  â”‚ROAS  â”‚  â”‚ CPL  â”‚  â”‚Inv.  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     âœ“ KPI Selecionado: Faturamento (CRM)
```

## ğŸ†• Melhorias vs VersÃ£o Anterior

| Recurso | Antes | Agora |
|---------|-------|-------|
| **VisualizaÃ§Ã£o** | Lista dropdown | Cards visuais |
| **Busca** | âŒ NÃ£o tinha | âœ… Busca inteligente |
| **Filtros** | âŒ NÃ£o tinha | âœ… Por categoria |
| **DescriÃ§Ã£o** | Texto pequeno | DescriÃ§Ã£o completa visÃ­vel |
| **Ãcones** | âŒ NÃ£o tinha | âœ… Ãcone para cada KPI |
| **Feedback** | Texto simples | Card destacado + confirmaÃ§Ã£o |
| **UX Mobile** | DifÃ­cil de usar | Responsivo e touch-friendly |

## ğŸ“Š KPIs DisponÃ­veis

### CRM (6 tipos)
- ğŸ’° **Faturamento** - Receita de leads fechados
- ğŸ‘¥ **Leads Gerados** - Total de leads criados
- âœ… **Leads Convertidos** - Leads fechados
- ğŸ“ˆ **Taxa de ConversÃ£o** - % de conversÃ£o
- ğŸ“š **Valor do Pipeline** - Oportunidades ativas
- ğŸ“Š **Ticket MÃ©dio** - Valor mÃ©dio por venda

### Meta Ads (7 tipos)
- ğŸ“ˆ **ROAS** - Retorno sobre investimento
- ğŸ’µ **CPL** - Custo por lead
- ğŸ’¼ **Investimento Total** - Gasto em anÃºncios
- ğŸ‘¥ **Leads** - Leads gerados por anÃºncios
- ğŸ‘ï¸ **ImpressÃµes** - VisualizaÃ§Ãµes
- ğŸ–±ï¸ **Cliques** - Total de cliques
- ğŸ¯ **CTR** - Taxa de cliques

### Receita (2 tipos)
- ğŸ’° **Receita Total** - Soma de todas receitas
- ğŸ“Š **Receita por Categoria** - Filtrada por categoria

### Custom (1 tipo)
- âš™ï¸ **Meta Personalizada** - FÃ³rmula customizada

## ğŸ”§ PersonalizaÃ§Ã£o

Se vocÃª quiser adicionar mais KPIs ou personalizar os existentes, edite:

**Arquivo**: `src/types/goals.ts`

```typescript
export const GOAL_TYPE_METADATA: Record<GoalType, GoalTypeMetadata> = {
  // Adicione ou edite aqui
  novo_kpi: {
    label: 'Meu KPI',
    description: 'DescriÃ§Ã£o do meu KPI',
    icon: 'Star',  // Ãcone do lucide-react
    category: 'custom',
    unit: 'number',
    supportsFilters: { ... }
  }
}
```

**Ãcones disponÃ­veis**: https://lucide.dev/icons

## ğŸ’¡ Dicas de UX

1. **Use a busca** se souber o KPI que quer
2. **Filtre por categoria** para explorar opÃ§Ãµes
3. **Leia as descriÃ§Ãµes** antes de selecionar
4. **Preste atenÃ§Ã£o na unidade** (R$, %, #)
5. **Verifique o card de confirmaÃ§Ã£o** antes de continuar

## ğŸ› Troubleshooting

### NÃ£o aparecem KPIs

**Causa**: Termo de busca muito especÃ­fico
**SoluÃ§Ã£o**: Limpe a busca ou use termos mais genÃ©ricos

### Card nÃ£o destaca ao clicar

**Causa**: Pode estar desabilitado ou erro de estado
**SoluÃ§Ã£o**: Recarregue a pÃ¡gina ou abra o modal novamente

### Ãcones nÃ£o aparecem

**Causa**: Ãcone nÃ£o importado corretamente
**SoluÃ§Ã£o**: Verifique se o Ã­cone existe no `ICON_MAP` em `KPISelector.tsx`

## ğŸ“± Compatibilidade

- âœ… Desktop (Chrome, Firefox, Safari, Edge)
- âœ… Tablet (iPad, Android)
- âœ… Mobile (iPhone, Android)
- âœ… Touch & Mouse
- âœ… Teclado (Tab para navegar)

## ğŸš€ PrÃ³ximas Melhorias

- [ ] Favoritos / KPIs mais usados
- [ ] SugestÃµes baseadas em histÃ³rico
- [ ] Preview de dados antes de criar
- [ ] Templates de metas prontos
- [ ] ComparaÃ§Ã£o lado a lado de KPIs

---

**VersÃ£o**: 2.0.0
**Data**: Outubro 2025
**Desenvolvido com**: React + shadcn/ui + Lucide Icons
