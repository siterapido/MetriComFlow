â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  GUIA DE LEITURA - DOCUMENTAÃ‡ÃƒO META ADS                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTAÃ‡ÃƒO CRIADA (4 arquivos)

1. META_ADS_RESUMO_EXECUTIVO.md (11 KB)
   â”œâ”€ VisÃ£o geral executiva
   â”œâ”€ Checklist do que estÃ¡ implementado vs faltando
   â”œâ”€ Hierarquia de tabelas
   â”œâ”€ Fluxo de sincronizaÃ§Ã£o (7 etapas)
   â”œâ”€ MÃ©tricas disponÃ­veis por nÃ­vel
   â”œâ”€ Como usar os hooks
   â””â”€ PrÃ³ximos passos recomendados
   
   â± Tempo de leitura: 10 minutos
   ğŸ‘¥ Para: Gerentes, product owners, quem quer visÃ£o rÃ¡pida

2. META_ADS_QUICK_REFERENCE.md (9.7 KB)
   â”œâ”€ Tabelas de dados (visual tree)
   â”œâ”€ Fluxo de sincronizaÃ§Ã£o (diagrama)
   â”œâ”€ Edge Functions (tabela)
   â”œâ”€ Hooks (resumo)
   â”œâ”€ Views de agregaÃ§Ã£o
   â”œâ”€ Multi-tenancy
   â”œâ”€ Meta API endpoints
   â”œâ”€ Troubleshooting
   â””â”€ ReferÃªncia de arquivos
   
   â± Tempo de leitura: 15 minutos
   ğŸ‘¥ Para: Desenvolvedores que precisam de referÃªncia rÃ¡pida

3. META_ADS_ARCHITECTURE.md (21 KB) - COMPLETO
   â”œâ”€ Tabelas detalhadas (com comentÃ¡rios de cada coluna)
   â”œâ”€ Hooks com interfaces TypeScript
   â”œâ”€ Edge Functions com descriÃ§Ã£o de funcionamento
   â”œâ”€ Views de agregaÃ§Ã£o (SQL)
   â”œâ”€ Dados sincronizados (o que tem e falta)
   â”œâ”€ Fluxo completo de sincronizaÃ§Ã£o
   â”œâ”€ Arquitetura multi-tenancy
   â”œâ”€ Endpoints do Meta API usados
   â””â”€ Status da implementaÃ§Ã£o
   
   â± Tempo de leitura: 30 minutos
   ğŸ‘¥ Para: Arquitetos, desenvolvedores backend, cÃ³digo review

4. META_ADS_CODE_EXAMPLES.md (17 KB)
   â”œâ”€ 9 exemplos prÃ¡ticos de cÃ³digo
   â”œâ”€ Conectar OAuth
   â”œâ”€ Adicionar contas
   â”œâ”€ Sincronizar dados
   â”œâ”€ Listar campanhas
   â”œâ”€ Exibir criativos com imagens
   â”œâ”€ Dashboard de performance
   â”œâ”€ Queries diretas ao banco
   â”œâ”€ IntegraÃ§Ã£o com dashboard
   â””â”€ Boas prÃ¡ticas
   
   â± Tempo de leitura: 20 minutos (referÃªncia)
   ğŸ‘¥ Para: Desenvolvedores implementando features

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š O QUE VOCÃŠ VAI APRENDER

âœ… IMPLEMENTADO (9 de 10 recursos)
  âœ“ OAuth com Meta Business Manager
  âœ“ Gerenciamento de contas publicitÃ¡rias
  âœ“ SincronizaÃ§Ã£o de campanhas
  âœ“ MÃ©tricas diÃ¡rias de campanha
  âœ“ Ad sets com targeting completo (NOVO)
  âœ“ AnÃºncios/criativos com conteÃºdo (NOVO)
  âœ“ MÃ©tricas por ad set (NOVO)
  âœ“ MÃ©tricas por criativo + Meta Quality Ranking (NOVO)
  âœ“ KPIs consolidados
  âœ“ Financeiros por campanha

âŒ NÃƒO IMPLEMENTADO (8 features para futuro)
  âœ— Audience performance
  âœ— Budget pacing/forecasting
  âœ— A/B testing results
  âœ— Attribution modeling
  âœ— Creative fatigue detection
  âœ— Cross-campaign comparison
  âœ— Meta Conversion API (table criada, sem hooks)
  âœ— Lead form field mapping

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—ï¸ ESTRUTURA DE DADOS (9 Tabelas)

meta_business_connections â†’ ad_accounts â†’ ad_campaigns
                                              â†“
                                    campaign_daily_insights
                                              â†“
                                          ad_sets
                                              â†“
                                    ad_set_daily_insights
                                              â†“
                                            ads
                                              â†“
                                      ad_daily_insights

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ FLUXO DE SINCRONIZAÃ‡ÃƒO (7 etapas)

1. OAuth â†’ Meta authorization code â†’ access token
2. Add Account â†’ ad_accounts table
3. Sync Campaigns â†’ connect-ad-account function â†’ ad_campaigns table
4. Sync Daily Insights â†’ sync-daily-insights function â†’ campaign_daily_insights
5. Sync Ad Sets â†’ sync-ad-sets function â†’ ad_sets table
6. Sync Ads/Creatives â†’ sync-ads function â†’ ads table
7. Sync Metrics â†’ sync-adset-insights + sync-ad-insights â†’ insights tables

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸª HOOKS (3 principais)

useMetaAuth() â†’ OAuth + account management + sync
useMetaMetrics() â†’ Fetch campaigns + KPIs
useAdSetsAndAds() â†’ Fetch ad sets + ads + metrics

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ MÃ‰TRICAS DISPONÃVEIS

Por Campanha:
  spend, impressions, clicks, leads_count, cpl, roas, taxa_conversao

Por Ad Set (NOVO):
  + reach, frequency, cpm, cpc, cpl

Por Criativo (NOVO):
  + quality_ranking, engagement_ranking, conversion_ranking, video_views

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ RECOMENDAÃ‡ÃƒO DE LEITURA

PRIMEIRA VEZ NO PROJETO?
  1. META_ADS_RESUMO_EXECUTIVO.md (10 min)
  2. META_ADS_QUICK_REFERENCE.md (15 min)
  3. META_ADS_CODE_EXAMPLES.md (20 min como referÃªncia)

DESENVOLVEDOR NOVO NA FEATURE?
  1. META_ADS_QUICK_REFERENCE.md (visÃ£o rÃ¡pida)
  2. META_ADS_CODE_EXAMPLES.md (exemplos de cÃ³digo)
  3. META_ADS_ARCHITECTURE.md (detalhes conforme necessÃ¡rio)

CÃ“DIGO REVIEW?
  â†’ META_ADS_ARCHITECTURE.md (seÃ§Ã£o "Views e Queries")
  â†’ Verificar RLS policies

IMPLEMENTANDO NOVA FEATURE?
  â†’ META_ADS_CODE_EXAMPLES.md (copiar padrÃµes)
  â†’ META_ADS_ARCHITECTURE.md (entender estrutura)

TROUBLESHOOTING?
  â†’ META_ADS_QUICK_REFERENCE.md (seÃ§Ã£o "Troubleshooting")
  â†’ META_ADS_RESUMO_EXECUTIVO.md (seÃ§Ã£o "LimitaÃ§Ãµes")

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ NOTAS IMPORTANTES

1. MULTI-TENANCY
   Todos os dados sÃ£o filtrados por organization_id
   Sempre use useActiveOrganization() para pegar a org atual

2. SINCRONIZAÃ‡ÃƒO
   Tudo Ã© MANUAL (nÃ£o hÃ¡ cron automÃ¡tico)
   Use sync-daily-insights com date range para full-year support

3. RATE LIMITING
   Meta API: mÃ¡x 200 calls/hora por ad account
   Implementado: backoff automÃ¡tico em sync-daily-insights

4. TOKENS
   Armazenados em meta_business_connections
   ExpiraÃ§Ã£o: 60 dias (fallback: META_ACCESS_TOKEN env var)

5. PERFORMANCE
   Use maxDaysPerChunk (default 30) para evitar timeouts
   Optimize com Ã­ndices em campaign_id, date, ad_set_id

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ PRÃ“XIMOS PASSOS RECOMENDADOS

1. Cron jobs para sincronizaÃ§Ã£o automÃ¡tica (diÃ¡ria)
2. Dashboard de performance de criativo (top performers)
3. Budget monitoring com alertas (80% threshold)
4. Attribution modeling (first-touch vs last-touch)
5. A/B test result sync com Meta
6. Audience performance analysis

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‚ ARQUIVO LOCALIZAÃ‡ÃƒO

/Users/marcosalexandre/metricom-flow/docs/

â”œâ”€â”€ META_ADS_RESUMO_EXECUTIVO.md â† Comece por aqui
â”œâ”€â”€ META_ADS_QUICK_REFERENCE.md â† Consulte frequentemente
â”œâ”€â”€ META_ADS_ARCHITECTURE.md â† ReferÃªncia completa
â””â”€â”€ META_ADS_CODE_EXAMPLES.md â† Exemplos prÃ¡ticos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CONCLUSÃƒO

A documentaÃ§Ã£o fornece uma visÃ£o completa da integraÃ§Ã£o Meta Ads:
  â€¢ 9 tabelas de dados estruturadas
  â€¢ 7 edge functions de sincronizaÃ§Ã£o
  â€¢ 3 hooks principais
  â€¢ 9 de 10 recursos implementados
  â€¢ Suporte a full-year data range
  â€¢ Multi-tenancy segura com RLS
  â€¢ Meta Quality Ranking integrado

Pronto para desenvolvimento!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
